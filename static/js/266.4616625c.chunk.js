!function(){"use strict";var t=function(){var t,e,r,n,i,o={},a=256,f=499,u=491,c=487,s=503,y=3*s,w=a-1,l=4,v=100,h=16,B=1<<h,p=10,g=10,m=B>>g,d=B<<p-g,D=a>>3,F=6,T=1<<F,U=D*T,b=30,S=10,A=1<<S,C=8,I=1<<C,N=S+C,E=1<<N,M=[],P=[],R=[],Q=[],x=o.NeuQuant=function(t,o,f){var u,c;for(e=t,r=o,n=f,i=new Array(a),u=0;u<a;u++)i[u]=new Array(4),(c=i[u])[0]=c[1]=c[2]=(u<<l+8)/a,R[u]=B/a,P[u]=0},z=function(){for(var t=[],e=new Array(a),r=0;r<a;r++)e[i[r][3]]=r;for(var n=0,o=0;o<a;o++){var f=e[o];t[n++]=i[f][0],t[n++]=i[f][1],t[n++]=i[f][2]}return t},J=function(){var t,e,r,n,o,f,u,c;for(u=0,c=0,t=0;t<a;t++){for(r=t,n=(o=i[t])[1],e=t+1;e<a;e++)(f=i[e])[1]<n&&(r=e,n=f[1]);if(f=i[r],t!=r&&(e=f[0],f[0]=o[0],o[0]=e,e=f[1],f[1]=o[1],o[1]=e,e=f[2],f[2]=o[2],o[2]=e,e=f[3],f[3]=o[3],o[3]=e),n!=u){for(M[u]=c+t>>1,e=u+1;e<n;e++)M[e]=t;u=n,c=t}}for(M[u]=c+w>>1,e=u+1;e<256;e++)M[e]=w},L=function(){var i,o,a,w,h,B,p,g,m,d,D,T,S,C;for(r<y&&(n=1),t=30+(n-1)/3,T=e,S=0,C=r,d=(D=r/(3*n))/v|0,g=A,(p=(B=U)>>F)<=1&&(p=0),i=0;i<p;i++)Q[i]=g*((p*p-i*i)*I/(p*p));for(m=r<y?3:r%f!==0?3*f:r%u!==0?3*u:r%c!==0?3*c:3*s,i=0;i<D;)if(a=(255&T[S+0])<<l,w=(255&T[S+1])<<l,h=(255&T[S+2])<<l,o=Z(a,w,h),W(g,o,a,w,h),0!==p&&G(p,o,a,w,h),(S+=m)>=C&&(S-=r),0===d&&(d=1),++i%d===0)for(g-=g/t,(p=(B-=B/b)>>F)<=1&&(p=0),o=0;o<p;o++)Q[o]=g*((p*p-o*o)*I/(p*p))},O=(o.map=function(t,e,r){var n,o,f,u,c,s,y;for(c=1e3,y=-1,o=(n=M[e])-1;n<a||o>=0;)n<a&&((f=(s=i[n])[1]-e)>=c?n=a:(n++,f<0&&(f=-f),(u=s[0]-t)<0&&(u=-u),(f+=u)<c&&((u=s[2]-r)<0&&(u=-u),(f+=u)<c&&(c=f,y=s[3])))),o>=0&&((f=e-(s=i[o])[1])>=c?o=-1:(o--,f<0&&(f=-f),(u=s[0]-t)<0&&(u=-u),(f+=u)<c&&((u=s[2]-r)<0&&(u=-u),(f+=u)<c&&(c=f,y=s[3]))));return y},o.process=function(){return L(),O(),J(),z()},function(){var t;for(t=0;t<a;t++)i[t][0]>>=l,i[t][1]>>=l,i[t][2]>>=l,i[t][3]=t}),G=function(t,e,r,n,o){var f,u,c,s,y,w,l;for((c=e-t)<-1&&(c=-1),(s=e+t)>a&&(s=a),f=e+1,u=e-1,w=1;f<s||u>c;){if(y=Q[w++],f<s){l=i[f++];try{l[0]-=y*(l[0]-r)/E,l[1]-=y*(l[1]-n)/E,l[2]-=y*(l[2]-o)/E}catch(v){}}if(u>c){l=i[u--];try{l[0]-=y*(l[0]-r)/E,l[1]-=y*(l[1]-n)/E,l[2]-=y*(l[2]-o)/E}catch(v){}}}},W=function(t,e,r,n,o){var a=i[e];a[0]-=t*(a[0]-r)/A,a[1]-=t*(a[1]-n)/A,a[2]-=t*(a[2]-o)/A},Z=function(t,e,r){var n,o,f,u,c,s,y,w,v,B;for(v=w=~(1<<31),y=s=-1,n=0;n<a;n++)(o=(B=i[n])[0]-t)<0&&(o=-o),(f=B[1]-e)<0&&(f=-f),o+=f,(f=B[2]-r)<0&&(f=-f),(o+=f)<w&&(w=o,s=n),(u=o-(P[n]>>h-l))<v&&(v=u,y=n),c=R[n]>>g,R[n]-=c,P[n]+=c<<p;return R[s]+=m,P[s]-=d,y};return x.apply(this,arguments),o},e=function(){var t,e,r,n,i,o,a,f,u,c,s,y,w={},l=-1,v=12,h=5003,B=v,p=1<<v,g=[],m=[],d=h,D=0,F=!1,T=0,U=0,b=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],S=[],A=w.LZWEncoder=function(i,o,a,f){t=i,e=o,r=a,n=Math.max(2,f)},C=function(t,e){S[y++]=t,y>=254&&M(e)},I=function(t){N(d),D=c+2,F=!0,Q(c,t)},N=function(t){for(var e=0;e<t;++e)g[e]=-1},E=w.compress=function(t,e){var r,n,i,o,w,v,h;for(F=!1,f=P(a=u=t),s=(c=1<<t-1)+1,D=c+2,y=0,o=R(),h=0,r=d;r<65536;r*=2)++h;h=8-h,N(v=d),Q(c,e);t:for(;(i=R())!=l;)if(r=(i<<B)+o,g[n=i<<h^o]!=r){if(g[n]>=0){w=v-n,0===n&&(w=1);do{if((n-=w)<0&&(n+=v),g[n]==r){o=m[n];continue t}}while(g[n]>=0)}Q(o,e),o=i,D<p?(m[n]=D++,g[n]=r):I(e)}else o=m[n];Q(o,e),Q(s,e)},M=(w.encode=function(r){r.writeByte(n),i=t*e,o=0,E(n+1,r),r.writeByte(0)},function(t){y>0&&(t.writeByte(y),t.writeBytes(S,0,y),y=0)}),P=function(t){return(1<<t)-1},R=function(){return 0===i?l:(--i,255&r[o++])},Q=function(t,e){for(T&=b[U],U>0?T|=t<<U:T=t,U+=a;U>=8;)C(255&T,e),T>>=8,U-=8;if((D>f||F)&&(F?(f=P(a=u),F=!1):(++a,f=a==B?p:P(a))),t==s){for(;U>0;)C(255&T,e),T>>=8,U-=8;M(e)}};return A.apply(this,arguments),w},r=function(){for(var r=0,n={};r<256;r++)n[r]=String.fromCharCode(r);function i(){this.bin=[]}i.prototype.getData=function(){for(var t="",e=this.bin.length,r=0;r<e;r++)t+=n[this.bin[r]];return t},i.prototype.writeByte=function(t){this.bin.push(t)},i.prototype.writeUTFBytes=function(t){for(var e=t.length,r=0;r<e;r++)this.writeByte(t.charCodeAt(r))},i.prototype.writeBytes=function(t,e,r){for(var n=r||t.length,i=e||0;i<n;i++)this.writeByte(t[i])};var o,a,f,u,c,s,y,w,l,v={},h=null,B=-1,p=0,g=!1,m=[],d=7,D=-1,F=!0,T=!1,U=10,b="",S=(v.setDelay=function(t){p=Math.round(t/10)},v.setDispose=function(t){t>=0&&(D=t)},v.setRepeat=function(t){t>=0&&(B=t)},v.setTransparent=function(t){h=t},v.setComment=function(t){b=t},v.addFrame=function(t,e){if(null===t||!g||null===u)throw new Error("Please call start method before calling addFrame");var r=!0;try{e?c=t:(c=t.getImageData(0,0,t.canvas.width,t.canvas.height).data,T||A(t.canvas.width,t.canvas.height)),N(),C(),F&&(R(),x(),B>=0&&Q()),E(),""!==b&&M(),P(),F||x(),J(),F=!1}catch(n){r=!1}return r},v.finish=function(){if(!g)return!1;var t=!0;g=!1;try{u.writeByte(59)}catch(e){t=!1}return t},function(){f=0,c=null,s=null,y=null,l=null,!1,F=!0}),A=(v.setFrameRate=function(t){15!=t&&(p=Math.round(100/t))},v.setQuality=function(t){t<1&&(t=1),U=t},v.setSize=function(t,e){g&&!F||((o=t)<1&&(o=320),(a=e)<1&&(a=240),T=!0)}),C=(v.start=function(){S();var t=!0;!1,u=new i;try{u.writeUTFBytes("GIF89a")}catch(e){t=!1}return g=t},v.cont=function(){S();return!1,u=new i,g=!0},function(){var e=s.length,r=e/3;y=[];var n=new t(s,e,U);l=n.process();for(var i=0,o=0;o<r;o++){var a=n.map(255&s[i++],255&s[i++],255&s[i++]);m[a]=!0,y[o]=a}s=null,w=8,d=7,null!==h&&(f=I(h))}),I=function(t){if(null===l)return-1;for(var e=(16711680&t)>>16,r=(65280&t)>>8,n=255&t,i=0,o=16777216,a=l.length,f=0;f<a;){var u=e-(255&l[f++]),c=r-(255&l[f++]),s=n-(255&l[f]),y=u*u+c*c+s*s,w=f/3|0;m[w]&&y<o&&(o=y,i=w),f++}return i},N=function(){var t=o,e=a;s=[];for(var r=c,n=0,i=0;i<e;i++)for(var f=0;f<t;f++){var u=i*t*4+4*f;s[n++]=r[u],s[n++]=r[u+1],s[n++]=r[u+2]}},E=function(){var t,e;u.writeByte(33),u.writeByte(249),u.writeByte(4),null===h?(t=0,e=0):(t=1,e=2),D>=0&&(e=7&D),e<<=2,u.writeByte(0|e|t),z(p),u.writeByte(f),u.writeByte(0)},M=function(){u.writeByte(33),u.writeByte(254),u.writeByte(b.length),u.writeUTFBytes(b),u.writeByte(0)},P=function(){u.writeByte(44),z(0),z(0),z(o),z(a),F?u.writeByte(0):u.writeByte(128|d)},R=function(){z(o),z(a),u.writeByte(240|d),u.writeByte(0),u.writeByte(0)},Q=function(){u.writeByte(33),u.writeByte(255),u.writeByte(11),u.writeUTFBytes("NETSCAPE2.0"),u.writeByte(3),u.writeByte(1),z(B),u.writeByte(0)},x=function(){u.writeBytes(l);for(var t=768-l.length,e=0;e<t;e++)u.writeByte(0)},z=function(t){u.writeByte(255&t),u.writeByte(t>>8&255)},J=function(){new e(o,a,y,w).encode(u)};v.stream=function(){return u},v.setProperties=function(t,e){g=t,F=e};return v};self.onmessage=function(t){var e="string"===typeof t?JSON.parse(t):t.data,n=e.frameUUID,i=e.frameNum,o=e.framesLength,a=e.height,f=e.width,u=e.fps,c=e.imageData,s=new r,y=function(t,e){for(var r=0,n=-1,i=t.length;r<i&&(n*=t[r++]-e.r+t[r++]-e.g+t[r++]-e.b,r++,n);)n=-1;return!n}(c,{r:0,g:0,b:0});s.setRepeat(0),s.setDispose(2),s.setQuality(1),s.setFrameRate(u),s.setSize(f,a),y?s.setTransparent(0):s.setTransparent(null),0===i?s.start():(s.cont(),s.setProperties(!0,!1)),s.addFrame(c,!0),o===i+1&&s.finish();var w={frameUUID:n,frameIndex:i,frameData:s.stream().getData()};self.postMessage("string"===typeof t?JSON.stringify(w):w)}}();
//# sourceMappingURL=266.4616625c.chunk.js.map